{
  "name": "Icapserver",
  "tagline": "Python ICAP Server framework",
  "body": "icapserver\r\n==========\r\n\r\nA barebone icap server written in python.\r\nBut mostly this is a framework to write your own ICAP servers.\r\n\r\nI work as QA Engineer and wrote this just for my test purpuses.\r\n\r\nInstallation\r\n------------\r\n\r\nUse `python seutp.py install` or simply copy icapserver.py file \r\nonto your PYTHON_PATH or the directory of your python module.\r\nAlso  you can install this module with pip: `pip install icapserver`.\r\n\r\nUsage\r\n-----\r\nFor more information check [Tutorial](https://github.com/Peoplecantfly/icapserver/blob/master/TUTORIAL.md)\r\n\r\nJust import stuff from the icapserver package, extend the protocol handler \r\nclass and start the server:\r\n\r\n```python\r\n# -*- coding: utf8 -*-\r\n\r\nimport time\r\nimport threading\r\n\r\nfrom icapserver import *\r\n\r\nclass ExampleICAPHandler(BaseICAPRequestHandler):\r\n\r\n\tdef example_OPTIONS(self):\r\n\t\tself.set_icap_response(200)\r\n\t\tself.set_icap_header('Methods', 'RESPMOD, REQMOD')\r\n\t\tself.set_icap_header('Service', 'ICAP Server' + ' ' + self._server_version)\r\n\t\tself.set_icap_header('Options-TTL', '3600')\r\n\t\tself.set_icap_header('Preview', '0')\r\n\t\tself.send_headers(False)\r\n\r\n\tdef example_REQMOD(self):\r\n\t\tself.no_adaptation_required()\r\n\r\n\tdef example_RESPMOD(self):\r\n\t\tself.no_adaptation_required()\r\n\r\nclass ExampleICAPServer():\r\n\r\n\tdef __init__(self, addr='', port=13440):\r\n\t\tself.addr = addr\r\n\t\tself.port = port\r\n\r\n\tdef start(self):\r\n\t\tself.server = ICAPServer((self.addr, self.port), ExampleICAPHandler)\r\n\t\tself.thread = threading.Thread(target=self.server.serve_forever)\r\n\t\tself.thread.start()\r\n\t\treturn True\r\n\r\n\tdef stop(self):\r\n\t\tself.server.shutdown()\r\n\t\tself.server.server_close()\r\n\t\tself.thread.join(2)\r\n\t\treturn True\r\n\r\n\r\ntry:\r\n\tserver = ExampleICAPServer()\r\n\tserver.start()\r\n\tprint 'Use Control-C to exit'\r\n\twhile True:\r\n\t\ttime.sleep(1)\r\nexcept KeyboardInterrupt:\r\n\tserver.stop()\r\n\tprint \"Finished\"\r\n```\r\nFor more information check [Tutorial](https://github.com/Peoplecantfly/icapserver/blob/master/TUTORIAL.md)\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}